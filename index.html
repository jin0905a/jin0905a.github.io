<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />

  <!-- iOS 홈화면(Standalone)에서 "앱처럼" 보이게 -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="회원증" />
  <meta name="format-detection" content="telephone=no,date=no,address=no,email=no" />

  <title>회원증</title>

  <style>
    :root{
      --purple:#4b21ff;
      --text:#111;
      --muted:#6b7280;
      --time-red:#e11d48;
      --bg:#ffffff;
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", "Noto Sans KR",
                   "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      overflow:hidden; /* 스크롤 완전 차단 */
    }

    /* iPhone safe-area 대응 */
    .app{
      position:relative;
      height:100vh;
      padding: calc(env(safe-area-inset-top) + 18px) 22px
               calc(env(safe-area-inset-bottom) + 18px) 22px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      gap:14px;
    }

    /* 상단 새로고침 원형 아이콘(모양만) */
    .refresh{
      width:56px; height:56px;
      border-radius:999px;
      background:#f3f4f6;
      display:grid;
      place-items:center;
      margin-top:6px;
    }
    .refresh svg{
      width:26px; height:26px;
      fill:none;
      stroke:#111;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
    }

    /* 사람 사진 */
    .photo{
      width:240px;
      aspect-ratio: 3 / 4;
      border-radius:2px;
      object-fit:cover;
      background:#e5e7eb;
    }

    .name{
      margin-top:6px;
      font-size:34px;
      font-weight:800;
      letter-spacing:-0.5px;
    }
    .sub{
      font-size:22px;
      font-weight:700;
      letter-spacing:-0.3px;
      margin-top:-4px;
    }

    .pill{
      width:min(520px, 92%);
      height:62px;
      border-radius:999px;
      background:var(--purple);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      font-weight:800;
      box-shadow: 0 6px 18px rgba(75,33,255,.22);
      margin-top:2px;
      user-select:none;
    }

    .qr{
      width:170px;
      height:170px;
      object-fit:contain;
      margin-top:8px;
      background:#fff;
    }

    .datetime{
      margin-top:2px;
      font-size:34px;
      font-weight:800;
      letter-spacing:-0.8px;
      display:flex;
      align-items:baseline;
      gap:14px;
      white-space:nowrap;
    }
    .datetime .date{ color:#111; }
    .datetime .time{ color:var(--time-red); }

    .bullets{
      margin-top:6px;
      width:min(520px, 92%);
      color:#6d65ff; /* 스샷 느낌의 보라색 */
      font-weight:900;
      font-size:32px;
      line-height:1.35;
    }
    .bullets .item{
      display:flex;
      align-items:flex-start;
      gap:10px;
    }
    .bullets .dot{
      font-size:34px;
      line-height:1.1;
      transform: translateY(2px);
    }

    .note{
      margin-top:6px;
      text-align:center;
      color:#6d65ff;
      font-weight:800;
      font-size:18px;
      line-height:1.5;
    }

    /* 하단 회색 이미지(애니메이션) */
    .bottom{
      position:absolute;
      left:0;
      bottom:0;
      width:100%;
      pointer-events:none;
      padding-bottom: env(safe-area-inset-bottom);
      display:flex;
      justify-content:center;
    }
    .bottom img{
      width:100%;
      max-width:900px;
      height:auto;
      opacity:1;
      animation: fadeBlink 1s ease-in-out infinite;
      /* 1초 동안: 보였다가(1) → 사라졌다가(0) → 다시 보임(1) */
    }
    @keyframes fadeBlink{
      0%   { opacity:1; }
      50%  { opacity:0; }
      100% { opacity:1; }
    }

    /* 화면이 작은 경우(아이폰 SE 등) 대비: 약간 축소 */
    @media (max-height: 780px){
      .photo{ width:210px; }
      .name{ font-size:30px; }
      .sub{ font-size:20px; }
      .pill{ height:56px; font-size:22px; }
      .qr{ width:150px; height:150px; }
      .datetime{ font-size:30px; }
      .bullets{ font-size:28px; }
    }
  </style>
</head>

<body>
  <main class="app" role="application" aria-label="회원증 화면">
    <div class="refresh" aria-hidden="true">
      <!-- 리프레시 아이콘 -->
      <svg viewBox="0 0 24 24">
        <path d="M3 12a9 9 0 0 1 15.36-6.36"/>
        <path d="M18 3v6h-6"/>
        <path d="M21 12a9 9 0 0 1-15.36 6.36"/>
        <path d="M6 21v-6h6"/>
      </svg>
    </div>

    <!-- 1) 상단 사람 얼굴 이미지 -->
    <img class="photo" src="box.jpg" alt="프로필 사진" />

    <div class="name">심우진</div>
    <div class="sub">심상용의 자</div>

    <div class="pill">승인완료</div>

    <!-- QR 이미지: 네 파일명으로 교체 -->
    <img class="qr" src="qr.png" alt="QR 코드" />

    <!-- 2) 날짜/시간 실시간 반영 -->
    <div class="datetime" aria-live="polite">
      <span class="date" id="dateText">0000년 00월 00일</span>
      <span class="time" id="timeText">00:00:00</span>
    </div>

    <section class="bullets" aria-label="사용 가능 항목">
      <div class="item"><span class="dot">•</span><span>마트 이용 가능</span></div>
      <div class="item"><span class="dot">•</span><span>호텔콘도 이용 가능</span></div>
    </section>

    <div class="note">
      국방복지 회원임을 증명합니다.<br/>
      ※캡쳐된 화면은 사용이 불가능합니다.
    </div>

    <!-- 3) 하단 회색 이미지 애니메이션 -->
    <div class="bottom" aria-hidden="true">
      <img src="bottom.jpg" alt="" />
    </div>
  </main>

  <script>
    // iOS에서 스크롤/바운스 방지(추가 안전장치)
    document.addEventListener('touchmove', (e) => e.preventDefault(), { passive:false });

    function pad2(n){ return String(n).padStart(2, '0'); }

    function updateDateTime(){
      const now = new Date();

      const y = now.getFullYear();
      const m = pad2(now.getMonth() + 1);
      const d = pad2(now.getDate());

      const hh = pad2(now.getHours());
      const mm = pad2(now.getMinutes());
      const ss = pad2(now.getSeconds());

      document.getElementById('dateText').textContent = `${y}년 ${m}월 ${d}일`;
      document.getElementById('timeText').textContent = `${hh}:${mm}:${ss}`;
    }

    updateDateTime();
    setInterval(updateDateTime, 1000);

    // 홈화면(Standalone)에서 더 앱처럼 보이게: 더블탭 확대 방지
    let lastTouchEnd = 0;
    document.addEventListener('touchend', (e) => {
      const now = Date.now();
      if (now - lastTouchEnd <= 300) e.preventDefault();
      lastTouchEnd = now;
    }, { passive:false });
  </script>
</body>
</html>
